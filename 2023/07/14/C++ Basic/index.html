<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>C++ Basic | Colythme</title><meta name="description" content="感觉多少有点复杂  Def A dangling pointer is a pointer that points to a location whose memory is deallocated.  dynamic objects are managed by heap, and stack vice versa. Temporary objects are managed by stack"><meta name="keywords" content="C++"><meta name="author" content="Colythme"><meta name="copyright" content="Colythme"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://i.loli.net/2020/07/01/HAkVZw1jYbBezxS.jpg"><link rel="canonical" href="http://colythme.github.io/2023/07/14/C++%20Basic/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="C++ Basic"><meta property="og:url" content="http://colythme.github.io/2023/07/14/C++%20Basic/"><meta property="og:site_name" content="Colythme"><meta property="og:description" content="感觉多少有点复杂  Def A dangling pointer is a pointer that points to a location whose memory is deallocated.  dynamic objects are managed by heap, and stack vice versa. Temporary objects are managed by stack"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2023-07-14T09:43:38.910Z"><meta property="article:modified_time" content="2023-07-14T09:50:13.509Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = '2'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: {"limitCount":50,"languages":{"author":"Author: Colythme","link":"Link: ","source":"Source: Colythme","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"Press","message_next":"to bookmark this page"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: true    
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2023-07-14 02:50:13'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><style type="text/css">#toggle-sidebar {bottom: 80px}</style><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="https://i.loli.net/2020/07/01/VbugJ9i4FUkIsoE.jpg" onerror="onerror=null;src='/img/404_2.jpeg'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">89</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">80</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">25</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archive</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tag</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Category</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Repose</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-image"></i><span> Gallery</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Def"><span class="toc-number">1.</span> <span class="toc-text">Def</span></a></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Colythme</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archive</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tag</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Category</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Repose</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-image"></i><span> Gallery</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">C++ Basic</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-07-14T09:43:38.910Z" title="Created 2023-07-14 02:43:38">2023-07-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-07-14T09:50:13.509Z" title="Updated 2023-07-14 02:50:13">2023-07-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/AMP-Learning/">AMP Learning</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><blockquote>
<p>感觉多少有点复杂</p>
</blockquote>
<h3 id="Def"><a href="#Def" class="headerlink" title="Def"></a>Def</h3><ul>
<li><p>A dangling pointer is a pointer that points to a location whose memory is deallocated.</p>
</li>
<li><p>dynamic objects are managed by <strong>heap</strong>, and <strong>stack</strong> vice versa. <strong>Temporary</strong> objects are managed by <strong>stack</strong>. And rvalue reference is an alias of a temporary object/value.</p>
</li>
</ul>
<p><code>const int*</code> is different from <code>int* const</code>. <code>int* const</code>相当于我们让一个const变量成为指针，比如<code>int* const ptr = &amp; x</code>，那么实际上ptr作为一个const变量是不可变的，但是他指向的x的值是可变的，即<code>* x = 5</code>编译是可以通过的。相较之下，<code>const int* ptr = &amp; x</code>则是ptr是changeable，x是unchangeable。</p>
<blockquote>
<p>我告诉你一个小的技巧，就是c++keyword修饰它前边的东西，这个是一定成立的。 ——whs</p>
</blockquote>
<p>比如，<code>const int* const p</code>则分为两个部分理解，一个是<code>int*</code>这个指针指向一个<code>const int</code>变量，另一个则是第二个<code>const</code>管着<code>int*</code>，即这个指针也是unchangeable的。注意，int const* a也指的是值不变的指针。</p>
<p>a[<a href="file:///Users/colythme/Library/CloudStorage/OneDrive-HKUSTConnect/Courses/Courses/COMP2012H/2022Fall/Note.md#">i</a>][j]的地址可以被这么表达：<code>*((*(a+i)) + j)</code></p>
<p>指针在32位机器中占4byte，在64位机器中占8byte。</p>
<p>数组是连续的：即</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">cout &lt;&lt; * (a + <span class="number">1</span>) &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; * (a + <span class="number">4</span>) &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<p>输出为<code>1, 4</code></p>
<p>那么关于<code>a</code>、<code>&amp;a</code>与<code>&amp;a[0]</code>的差别，一下子有一篇博客阐释的较为清楚：</p>
<p>在探讨这个问题之前，我们首先来看一道笔试题，如下：<br>　　【<strong>摘自牛客网</strong>】下列代码的结果是：（正确答案是 C）</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">main</span>() </span><br><span class="line">&#123; </span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">5</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;; </span><br><span class="line">    <span class="keyword">int</span> *ptr=(<span class="keyword">int</span> *)(&amp;a+<span class="number">1</span>); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d&quot;</span>,*(a+<span class="number">1</span>),*(ptr<span class="number">-1</span>)); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>A、3,5　　　B、2,4　　　C、2,5　　　D、3,4<br>　　下面我们来分析一下选择C的原因，解释清楚这个题的正确答案，你就能清楚数组中&amp;a与&amp;a[0]存在什么区别了。<br>　　题目中首先定义了存放5个int类型空间大小的内存，然后初始化5个数。我们知道直接使用数组的名字a表示的是一个指向数组首地址的指针，所以直接a与&amp;a[0]是相同的意思，都表示数组的首地址。所以<em>(a+1)很好理解，假设a地址是0x1000，就是取（0x1000+sizeof(int)）地址的数，由于数组的物理地址是连续的，当然就是取2。<br>　　那&amp;a表示什么意思呢，相当于取存放指向数组首地址的指针的存储地址，话有些绕，但是细细品味你就会发现，它就相当于二维指针，假设每个一维指针指向一排数组（当然除了第一个一维数组的指针之外实际都没有申请，但是在访问野指针之前计算机也不知道那块地址是否存在，但的确可以由物理地址连续性来获取这块地址的表示），所以简言之&amp;a表示第一排数组，&amp;a+1就是表示第二排数组（就是5<em>sizeof(int)=5</em>4=20空间大小后一段空间的首地址）。<br>　　有了上面的介绍就好理解了，</em>(ptr-1)是表示取(0x1000+5*sizeof(int)-sizeof(int))地址中的数，算得为5。<br>　　总结：<br>　　&amp;a[0]表示数组的首地址，与直接a相同意义。而&amp;a表示存储指向数组首地址的指针的地址，可以用二维指针来理解。</p>
<p>For dynamic 2D array:</p>
<ul>
<li><code>x == &amp;x[0] != &amp;x[0][0]</code></li>
<li><code>&amp;x[j] = x + j</code></li>
<li><code>x[j] == &amp;x[j][0]</code></li>
</ul>
<p><strong>Homogeneous</strong></p>
<p>“homo-“ means same, “hetero-“ means different.</p>
<p>In any case if a single Java array <strong>can only store one type</strong>, say, only numbers, or only strings then it is <strong>homogeneous</strong>.</p>
<p>If <strong>multiple types</strong> then <strong>heterogeneous</strong>. In the above case, since collection is of Object type and can hold any type</p>
<p>Let’s take Javascript for understanding this better eg. arrays are heterogeneous, because I can make an array that holds [5, “hello”, new Object()], and in Java that’s not possible.</p>
<p>static member v.s. non-static member</p>
<p>static member可以不通过instance就直接call，而non-static member则需要先创建一个Helper instance g在经由g去call</p>
<p>return by value: return a copy of the original object.</p>
<p>return by reference:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>&amp; <span class="title">FUNC</span> <span class="params">()</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>The original object is passed back, which means further operations on returned value would affect the original object.</p>
<p>conversion constructor: a constructor accepting single para。值得注意的是，A constructor may have multiple arguments; if all but one argument have default values, it is still a conversion constructor. which means <code>Word (const char *s, int k = 1)</code>这种虽然两个变量但是实际上只有一个是unknown的也是conversion</p>
<p>implicit conversion: 指通过形似Word movie = “James”赋值，这种赋值方式实际上是先开一个新object with initial value “James”，然后再赋值给movie，故为implicit</p>
<p>copy constructor: 实际上就是初始化值变成了其他的同类型object。比如Word (const Word&amp; W) {}。A constructor that has exactly one argument of the same class passed by its const reference.注意exactly one arg</p>
<p>Function</p>
<p>Formal-parameter-list指函数def那边的参数列表；Actual-parameter-list指的是调用的参数列表</p>
<p>define a function: int Func (int, int); 这里(int, int)被叫做signature。</p>
<p>function prototype: 1. function name. 2. return data type. 3. the number of formal parameters. 4. the data type of the formal parameters.</p>
<p>function declaration指的是写下他的interface (its function prototype)，而function definition则是将其header和body都写出来。</p>
<p>function resolution: 实际上就是指compiler判断到底用哪个overloaded function的过程。</p>
<p>default arguments必须写在变量之后，即void func (int x, int y, int z = 0, int p = 0);</p>
<p>Scope for an identifier is determined by the location of its <strong>declaration</strong>.</p>
<p>FIle scope: global scope. Local scope: function scope, block scope(即比如for () { int a; })那么a就在个block里面。</p>
<p>同一个scope不能重名，但不同scope里可以。重名的话编译器编译时会选择innermost enclosing scope的变量。</p>
<p>使用最基础的方法穿array到function里是pass-by-value的，但是这array的elements确实pass-by-reference，也就是说在func里对array进行修改，是会影响到原数组的。对于多维数组，值得注意的是，void func (int a[][]) {}这种写法是不行的，只有第一维能为空，其他必须制定大小。</p>
<p>Class:</p>
<p>保护成员的可访问范围比私有成员大，比公有成员小。能访问私有成员的地方都能访问保护成员。保护成员扩大的访问范围表现在：基类的保护成员可以在派生类的成员函数中被访问。</p>
<p>CONSTRUCTOR member functions: constructors</p>
<p>ACCESSOR member functions: functions that will not modify data members (i.e. funct () const {})</p>
<p>MUTATOR member functions: 反之</p>
<p>After compilation, 代码中一个pointer指向的function将会被转化成unique global function by adding a new argument. e.g., x.set (a)编译后将会被转化为Class::set (&amp; x, a)</p>
<p>A const object can only call const member functions.</p>
<p>Keyword: private可以被member functioin及friend class访问；protected可以被member functions、friend class及friend class的derived class访问。</p>
<p>Constructor &amp; Destructor</p>
<p>总结：1. static变量不会在主动constructor里面被访问去create。2. 对于继承关系，比如B继承A，那么construct B之前一定会先construct A，同理，destruct B之后也一定会destruct A。3. 对于<code>A** a = new A*[2] &#123; new A(1), new B(b) &#125;;</code>的情况a不会经过constructor。4. 有一个方法就是可以看作stack，即destruct的过程完全和construct过程反过来。</p>
<p>A constructor accepting a <strong>single argument</strong> specifies a conversion from its argument type to the type of its class:</p>
<p>如果存在user-defined constructor但是在定义object的时候没有指定constructor，那么会报错而不会自动调用default constructor. default constructor只有在没有user-defined constructor的时候才会被自动调用。</p>
<p>explicit关键字before constructor指定了必定只能显式转换（对于JAVA：隐式转换也叫自动类型转换，指的是不需要调用函数，JVM自动将类型转换的一种方式）。</p>
<p>term: braced initializtion指的是int z{3}这种用大括号的初始化方法。</p>
<p>func () : () {} 这玩意儿叫做member initializer list (MIL).</p>
<p><strong>const or reference members must be initialized using member initializer list if they don’t have default initializers.</strong></p>
<p>construction order和destruction order分别类似于先序遍历和后序遍历。</p>
<p>A ‘has’ B: A的member里有B的object；A ‘owns’ B: A的member里有B的指针</p>
<p>Objects must be passed by reference in copy constructors. i.e. Copy constructor of class X must have the following signature: X::X(const X&amp; copiee). It cannot be X::X(const X copiee)</p>
<p>A conversion constructor can be called anywhere when the type of the single argument is assigned to the object. 也就是说conversion constructor可以被call大于一次。</p>
<p>Inheritance</p>
<p>私有继承：使用私有继承，基类的公有成员和保护成员都将成为派生类的私有成员，只可以在派生类的成员函数中使用</p>
<p>保护继承：基类的public和protected成员：都以protected身份出现在派生类中；</p>
<p>Def: Polymorphic or Liskov Substitution Principle 指的是inheritance中derived class可以调用base class的所有东西，but not vice versa的原则。</p>
<p>Problems:</p>
<ul>
<li>Slicing: 将子类object的值赋给一个父类object</li>
<li>Name Conflict</li>
</ul>
<p>如果一个data member在base class中是private，那么他不可以被derived class的object访问，还是只能被base class’ own member function访问（除非friend）。</p>
<p>那么此时就要将他们改为protected，这种状态下they are accessible to member function in the base class as well as member functions in the derived class.</p>
<p><strong>当使用类的指针调用成员函数时，普通函数由指针类型决定，而虚函数由指针指向的实际类型决定</strong>。</p>
<p>Polymorphism in C++ means that we can work with objects without knowing their precise type at compile time. We say that uperson exhibits polymorphism, because the object can take on multiple “shapes” (Student, Teacher, PG_Student, etc.). <strong>A pointer or reference must be used to take advantage of polymorphism.</strong> 至于为什么不能pass-by-value，也跟object slicing有关，因为当你pass-by-value传进去的时候，If the base-class object is not legit合法的 (e.g. it has pure virtual functions in it), you can’t even declare or call this function.</p>
<p>在基类中仅仅给出声明，不对虚函数实现定义，而是在派生类中实现。这个虚函数称为纯虚函数。普通函数如果仅仅给出它的声明而没有实现它的函数体，这是编译不过的。纯虚函数没有函数体，纯虚函数需要在声明之后加个=0；</p>
<p>Override is not possible if the member function is not virtual.</p>
<p>virtual destructor: 为了防止诸如UPerson* p = s而s是derived Student类，delete p却只调用UPerson的destructor而不是Student的destructor的情况，那么加上了virtual就可以通过object本身的类型来选择destructor了。</p>
<p>ABC: Abstract Base Class</p>
<ul>
<li><p>No objects of ABC can be created</p>
</li>
<li><p>抽象类不能直接实例化，并且对抽象类使用 new 运算符会导致编译时错误；</p>
<p>  抽象方法只能声明于抽象类中，且不包含任何实现，派生类必须覆盖它们；</p>
<p>  重要的是抽象类可以包括抽象方法，这是普通类所不能的，但同时也能包括普通的方法。</p>
</li>
</ul>
<p>Keyword ‘final’ 意味着该类无法被继承</p>
<p>Generic Programming</p>
<p>fucntion template会自动deduce template arguments（即typename），但是class template必须要明确定义。</p>
<p>加号的函数用法实际上是operator+(a, b)</p>
<p>ostream is the base class for all possible output streams. cout, cerr都是该类中的object</p>
<p>overload operator []需要一个constant overloading和non-constant overloading。若不存在non-constant overloading，那么对那些non-constant的object的访问可以使用constant overloading的函数；但是若不存在constant overloading的话，那些constant的object就没法使用non-constant overloading的函数。但是注意，即使可以non-constant object可以调用constant的，也会产生lvalue和rvalue的问题，即constant overloading返回的是rvalue，不能用于赋值。</p>
<p>overload operator ++的时候，要注意overload的是lvalue还是rvalue。如果是lvalue，即++ a，那么写作Vector&amp; Vector::operator ++ () {}；若是rvalue，即a ++，那么写作Vector Vector::operator ++ (int)。</p>
<p>STL</p>
<p>Containers: Sequence containers；Associate containers是非线性的，存key/value pairs；Container adapters adopted containers that support a limited set of container operatioins；Near containers</p>
<p>Sequence: vector, list, deque；Associative: map, multimap, multiset, set；Adapters: priority_queue, queue, stack；Near-containers: bitset, valarray, string</p>
<p>A predicate is <strong>a C++ function returning a boolean or an object having a bool operator() member</strong>.</p>
<p>function pointer: <code>inline const T (*) (const T&amp;, const T&amp;);</code>。用法诸如<code>int (* f)(int x, int y) = larger</code>，<code>int (* f[])(int x) = &#123; func1, func2, func3 &#125;</code></p>
<p>Tree</p>
<p>Preorder：根左右；Inorder：左根右；Postorder：左右根</p>
<p>lvalue/rvalue reference</p>
<p>Temporary object/value在什么时候会存在呢？1. const reference initialization; 2. argument passing (e.g. type conversion或者诸如类似func (“pass_value”)的情况); 3. function returned value (by copying); 4. evaluatioin of expressions (e.g., result of sub-expressions比如int e = a + c + d中生成了temporary object来承载a + c + d).</p>
<p><strong>Temporary</strong> objects are managed by <strong>stack</strong>. And rvalue reference is an alias of a temporary object/value.</p>
<p>lvalue reference only binds to another lvalue，即int&amp; b = 4会报错，因为让lvalue reference等于一个rvalue。但是const lvalue reference可以接受rvalue，因为此时temporary value已经被created了，即const int&amp; c = 5是正确的。</p>
<p>值得注意的是，rvalue ref必须被initialized，即int&amp;&amp; b是错误的；且他不能承接lvalue，即int a; int&amp;&amp; c = a是错的。</p>
<p>rvalue reference once bound, cannot be re-bound to another temporary object.</p>
<p>std::move () only does static casting.</p>
<p>C++11 new feature</p>
<p>{} initializer is more restrictive: it doesn’t allow conversions that lose information — narrowing conversions（即int a {0.5}）这种写法是不允许的（double值通过{} initializer赋值给一个int object）。</p>
<p>注意，lambda function中假如[]里面是value，那么他实际上只会在该lambda function被定义的时候copy一次，which means这样的写法int a = 1; auto f = [<a href="file:///Users/colythme/Library/CloudStorage/OneDrive-HKUSTConnect/Courses/Courses/COMP2012H/2022Fall/int%20x">a</a>](int x) mutable { return a *= x; }; cout &lt;&lt; f (20) &lt;&lt; ‘ ‘ &lt;&lt; f (400) &lt;&lt; endl;输出是20 400而不是20 20。</p>
<p>explicit关键字可以让函数拒绝implicit conversion</p>
<p>enum里面的identifier name必须在整个程序中唯一，即enum { ABC }; int ABC = 0之类的都是不合法的。且comparision between enum不合法。但C++11中引入了enum classes可以一定程度上避免这些问题。</p>
<p>Static</p>
<p>加了static关键字的全局变量我们就可以称为“内部”变量，这里的“内部”指的是static全局变量的作用域范围，<strong>“内部”作用域是指变量所在的文件作用域</strong>，也就是说static全局变量的作用域仅限于所在文件内部，工程内的其他文件不可见。</p>
<p>class里的static variable会让所有该class的object share同一个。Static variables cannot be initialized in the class definition (except for const int/enum static data). Static variables must be defined outside the class definition, usually in the class implementation (.cpp) file.（注意是define不是declare）</p>
<p>class中的static member function是属于class的所有object的，所以不存在this关键字，并且可以在不存在class object的时候使用，但是只可以对class中的static data member进行操作，且不能为const或者virtual functions，且不能被一个non-static member function of the same prototype overload。</p>
<p>AVL Tree</p>
<p>An AVL tree is a BST where the height of the two sub-trees of ANY of its nodes may differ by at most one. Each node stores a height value, which is used to check if the tree is balanced or not. 也被称作高度平衡树。</p>
<p>Insertion may violate the AVL tree property in 4 cases:</p>
<ol>
<li><p>Right-Right (RR)<br> Left (anti-clockwise) rotation [single rotation]:<br>  Insertion into the right sub-tree of the right child of a node</p>
</li>
<li><p>Left-Left (LL)<br> Right (clockwise) rotation [single rotation]:<br>  Insertion into the left sub-tree of the left child of a node</p>
</li>
<li><p>Left-Right (LR)<br> Left-right rotation [double rotation]:<br>  Insertion into the right sub-tree of the left child of a node</p>
</li>
<li><p>Right-Left (RL)<br> Right-left rotation [double rotation]:<br>  Insertion into the left sub-tree of the right child of a node</p>
</li>
</ol>
<img src= "/img/loading.gif" data-lazy-src="/Users/colythme/Library/Application Support/typora-user-images/image-20221208153341046.png" alt="image-20221208153341046" style="zoom:50%;" />

<img src= "/img/loading.gif" data-lazy-src="/Users/colythme/Library/Application Support/typora-user-images/image-20221208153358855.png" alt="image-20221208153358855" style="zoom:50%;" />

<img src= "/img/loading.gif" data-lazy-src="/Users/colythme/Library/Application Support/typora-user-images/image-20221203212930617.png" alt="image-20221203212930617" style="zoom:50%;" />

<img src= "/img/loading.gif" data-lazy-src="/Users/colythme/Library/Application Support/typora-user-images/image-20221203212941360.png" alt="image-20221203212941360" style="zoom:50%;" />

<p>Similar to node deletion in BST, 3 cases need to be considered</p>
<ol>
<li><p>The node to be removed is a leaf node</p>
<p> ⇒ Delete the leaf node immediately</p>
</li>
<li><p>The node to be removed has 1 child</p>
<p> ⇒ Adjust a pointer to bypass the deleted node</p>
</li>
<li><p>The node to be removed has 2 children</p>
<p> ⇒ Replace the node to be removed with either the</p>
<p> • maximum node in its left sub-tree, or</p>
<p> • minimum node in its right sub-tree Then remove the max/min node depending on the choice above.</p>
</li>
</ol>
<p>Removing a node can render multiple ancestors unbalanced ⇒ every sub-tree affected by the deletion has to be re-balanced.</p>
<p>Constexpr:</p>
<p>Restrictions of constexpr function</p>
<ol>
<li><p>In C++11, a constexpr function should contain only ONE return statement. (Relaxed in C++14)</p>
</li>
<li><p>Each of its parameters must be a literal type.</p>
</li>
<li><p>Its return type should not be void type and other operator like prefix</p>
<p> increment are not allowed in constexpr function. It must be a literal</p>
<p> type (e.g. scalar type, reference type, an array of literal type).</p>
</li>
<li><p>A constexpr function should refer only constant global variables.</p>
</li>
<li><p>A constexpr function can call only other constexpr functions.</p>
</li>
<li><p>A constexpr function has to be non-virtual.</p>
</li>
</ol>
<p>Hashing</p>
<p>For any key K, h2 (K) must be relatively prime to the table size m</p>
<p>Like separate chaining, open addressing is <strong>a method for handling collisions</strong>. In Open Addressing, all elements are stored in the hash table itself. So at any point, the size of the table must be greater than or equal to the total number of keys</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span>; i &lt; m; i++ )</span><br><span class="line">	compute L = ( <span class="built_in">h</span>(K) + i ) % m;</span><br><span class="line">	<span class="keyword">if</span> T[L] is empty, put K there <span class="keyword">and</span> stop</span><br></pre></td></tr></table></figure>

<p>Quadratic Probing:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span>; i &lt; m; i++ )</span><br><span class="line">	compute L = ( <span class="built_in">h</span>(K) + i*i ) % m;</span><br><span class="line">	<span class="keyword">if</span> T[L] is empty, put K there <span class="keyword">and</span> stop</span><br></pre></td></tr></table></figure>

<p>Double Hashing:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">H</span>(Ki, <span class="number">0</span>) = <span class="built_in">h</span>(Ki)</span><br><span class="line"><span class="built_in">H</span>(Ki, <span class="number">1</span>) = (<span class="built_in">H</span>(Ki, <span class="number">0</span>) + <span class="built_in">h2</span>(Ki)) mod m</span><br><span class="line"><span class="built_in">H</span>(Ki, <span class="number">2</span>) = (<span class="built_in">H</span>(Ki, <span class="number">1</span>) + <span class="built_in">h2</span>(Ki)) mod m</span><br><span class="line">. . .</span><br><span class="line"><span class="built_in">H</span>(Ki,m) = (<span class="built_in">H</span>(Ki,m−<span class="number">1</span>) +<span class="built_in">h2</span>(Ki)) mod m</span><br></pre></td></tr></table></figure>

<p>Main</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Colythme</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://colythme.github.io/2023/07/14/C++%20Basic/">http://colythme.github.io/2023/07/14/C++%20Basic/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C++</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/07/14/%E5%9F%BA%E4%BA%8EUE%E5%8F%8AiClone%E7%9A%84%E6%95%B0%E5%AD%97%E4%BA%BA%E9%A9%B1%E5%8A%A8/"><img class="prev-cover" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">基于UE及iClone的数字人驱动</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/14/3D%20Human%20Reconstruction%20Notes/"><img class="next-cover" data-lazy-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">3D Human Reconstruction Notes</div></div></a></div></nav></article></main><footer id="footer" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Colythme</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="Increase Font Size"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="Decrease Font Size"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  var script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    $.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js', function () {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'dark',
      })
      true && mermaid.init()
    })
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="aplayer no-destroy" data-id="2065854146" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" muted></div><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: [
    'title',
    'meta[name=description]',
    '#config_change',
    '#body-wrap',
    '#rightside-config-hide',
    '#rightside-config-show',
    '.js-pjax'
  ],
  cacheBust: false,
})

document.addEventListener('pjax:complete', function () {
  refreshFn()

  $('script[data-pjax]').each(function () {
    $(this).parent().append($(this).remove())
  })

  GLOBAL_CONFIG.islazyload && lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

})

document.addEventListener('pjax:send', function () {
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  $(window).off('scroll')

  //reset readmode
  $('body').hasClass('read-mode') && $('body').removeClass('read-mode')

  //reset font-size
  $('body').css('font-size') !== originFontSize && $('body').css('font-size', parseFloat(originFontSize))
})</script></div></body></html>